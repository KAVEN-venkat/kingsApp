{"version":3,"sources":["webpack:///src/app/user/user.page.html","webpack:///src/app/user/user-routing.module.ts","webpack:///src/app/user/user.module.ts","webpack:///src/app/user/user.page.scss","webpack:///src/app/user/user.page.ts"],"names":["routes","path","component","UserPageRoutingModule","imports","forChild","exports","UserPageModule","declarations","UserPage","modalController","navCtrl","menu","customerService","alertService","router","env","actionSheetController","loadingController","alertController","enable","img_url","IMG_URL","customersList","localStorage","getItem","navigateRoot","presentLoading","customers","subscribe","data","presentLoadingDismiss","console","log","presentToast","error","create","cssClass","modal","onDidDismiss","then","present","user_id","user_name","deleteCustomer","header","message","buttons","text","role","handler","blah","alert","icon","deleteCustomerConfirm","actionSheet","loading","dismiss","selector","template"],"mappings":"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","file":"user-user-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-menu-button auto-hide=\\\"false\\\"></ion-menu-button>\\n\\t\\t\\t\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-buttons slot=\\\"primary\\\" (click)=\\\"newCustomerModal()\\\">\\n\\t\\t\\t<ion-button>\\n\\t\\t\\t\\t<ion-icon name=\\\"person-add-outline\\\" class=\\\"logoutbtn\\\"></ion-icon>\\n\\t\\t\\t</ion-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title class=\\\"ion-text-center\\\"><img src=\\\"../../assets/logo-header.png\\\" alt=\\\"\\\" class=\\\"header-logo\\\"></ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-list *ngIf=\\\"customers?.length > 0; else NoCustomerTemp\\\" class=\\\"ion-no-padding\\\">\\n\\t\\t<ion-item-sliding>\\n\\t\\t\\t<ion-item lines=\\\"full\\\" *ngFor='let customer of customers' (click)=\\\"presentActionSheet(customer.id,customer.first_name)\\\">\\n\\t\\t\\t\\t<ion-avatar slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t<img src=\\\"{{img_url}}images/{{customer.photo}}\\\" *ngIf=\\\"customer.photo != null\\\">\\n\\t\\t\\t\\t\\t<img src=\\\"{{img_url}}images/no_img.png\\\" *ngIf=\\\"customer.photo == null\\\">\\n\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t<h2>{{customer.first_name}} {{customer.last_name}} ({{customer.user_type}})</h2>\\n\\t\\t\\t\\t\\t<p>{{customer.mobile}}</p>\\n\\t\\t\\t\\t\\t<p>{{customer.email}}</p>\\n\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t</ion-item>\\n\\t\\t</ion-item-sliding>\\n\\t</ion-list>\\n\\t<ng-template #NoCustomerTemp>\\n\\t\\t<h3 class=\\\"ion-text-center\\\">No Customers Found</h3>\\n\\t</ng-template>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserPage } from './user.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserPageRoutingModule } from './user-routing.module';\n\nimport { UserPage } from './user.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserPageRoutingModule\n  ],\n  declarations: [UserPage]\n})\nexport class UserPageModule {}\n","export default \":host .logoutbtn {\\n  font-size: 24px;\\n}\\n:host ion-avatar {\\n  width: 50px;\\n  height: 50px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlci91c2VyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUFZLGVBQUE7QUFDaEI7QUFBSTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBRVIiLCJmaWxlIjoic3JjL2FwcC91c2VyL3VzZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIC5sb2dvdXRidG57IGZvbnQtc2l6ZTogMjRweDsgfVxuICAgIGlvbi1hdmF0YXJ7XG4gICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgfVxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavController, MenuController, ActionSheetController, LoadingController, AlertController } from '@ionic/angular';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { CustomerService } from 'src/app/services/customer.service';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { EnvService } from 'src/app/services/env.service';\nimport { CustomerPage } from '../modals/customer/customer.page';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.page.html',\n  styleUrls: ['./user.page.scss'],\n})\nexport class UserPage implements OnInit {\n\tcustomers:String;\n\timg_url:String;\n\tconstructor(private modalController: ModalController, private navCtrl: NavController, private menu: MenuController,private customerService: CustomerService,private alertService: AlertService,private router: Router, private env:EnvService, public actionSheetController: ActionSheetController, public loadingController: LoadingController, public alertController: AlertController){\n\t\tthis.menu.enable(true);\n\t\tthis.img_url = this.env.IMG_URL;\n\t\tthis.customersList();\n\t}\n\n\tngOnInit() {\n\t\tif(!localStorage.getItem('user_id')){\n\t\t\tthis.navCtrl.navigateRoot('/');\n\t\t}\n\t\tthis.presentLoading();\n\t}\n\tcustomersList(){\t\t\n\t\tthis.customerService.customers().subscribe(data => {\n\t    \t//console.log(data);\n\t    \t//let result = JSON.stringify(data);\n\t    \tthis.presentLoadingDismiss();\n\t    \tif(data['status']){\n\t    \tthis.customers = data['customersList'];\n\t\t    console.log(this.customers);\n\t\t\t}else{\n\t\t    \tthis.alertService.presentToast(data['message']);\n\t    \t}\n\t    },error => {\n\t        console.log(error);\n\t    });\n\t}\n\tasync newCustomerModal() {\n\t\tconst modal = await this.modalController.create({\n\t\t\tcomponent: CustomerPage,\n\t\t\tcssClass: 'my-custom-modal-css'\n\t\t});\n\t\tmodal.onDidDismiss().then(() => {\n\t\t\tthis.customersList();\n\t\t});\n\t\treturn await modal.present();\n\t}\n\tdeleteCustomer(user_id,user_name){\n\t\tthis.customerService.deleteCustomer(user_id).subscribe(data => {\n\t    \tif(data['status']){\n\t    \tthis.alertService.presentToast(data['message']);\n\t    \tthis.customersList();\n\t\t\t}else{\n\t\t    \tthis.alertService.presentToast(data['message']);\n\t    \t}\t\t\t\n\t    },error => {\n\t        console.log(error);\n\t    });\n\t}\n\tasync deleteCustomerConfirm(user_id,user_name) {\n\t\tconst alert = await this.alertController.create({\n\t\t\tcssClass: 'my-custom-class',\n\t\t\theader: 'Confirmation!',\n\t\t\tmessage: 'Are you sure want to delete <strong>'+user_name+'</strong>?',\n\t\t\tbuttons: [\n\t\t\t{\n\t\t\t\ttext: 'Cancel',\n\t\t\t\trole: 'cancel',\n\t\t\t\tcssClass: 'secondary',\n\t\t\t\thandler: (blah) => {\n\t\t\t\t\tconsole.log('Confirm Cancel: blah');\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\ttext: 'Yes',\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.deleteCustomer(user_id,user_name);\n\t\t\t\t}\n\t\t\t}\n\t\t\t]\n\t\t});\n\n    \tawait alert.present();\n  \t}\n\tasync presentActionSheet(user_id,user_name) {\t\t\n\t\tconst actionSheet = await this.actionSheetController.create({\n\t\t\theader: user_name+' Action',\n\t\t\tbuttons: [{\n\t\t\t\ttext: 'Item Price',\n\t\t\t\ticon: 'cash-outline',\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.navCtrl.navigateRoot('/customerprice/'+user_id+'/'+user_name);\n\t\t\t\t\tconsole.log('Delete clicked');\n\t\t\t\t}\n\t\t\t},{\n\t\t\t\ttext: 'Edit',\n\t\t\t\ticon: 'create-outline',\n\t\t\t\thandler: () => {\n\t\t\t\t\tconsole.log('Edit clicked');\n\t\t\t\t\tthis.navCtrl.navigateRoot('/profile/'+user_id);\n\t\t\t\t}\n\t\t\t},{\n\t\t\t\ttext: 'Delete',\n\t\t\t\trole: 'destructive',\n\t\t\t\ticon: 'trash',\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.deleteCustomerConfirm(user_id,user_name);\n\t\t\t\t\tconsole.log('Delete clicked');\n\t\t\t\t}\n\t\t\t},{\n\t\t\t\ttext: 'Cancel',\n\t\t\t\ticon: 'close',\n\t\t\t\trole: 'cancel',\n\t\t\t\thandler: () => {\n\t\t\t\t\tconsole.log('Cancel clicked');\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t\tawait actionSheet.present();\n  \t}\n  \t\n  \tasync presentLoading() {\n\t\tconst loading = await this.loadingController.create({\n\t\t\tmessage: 'Please wait...',\n\t\t\t//duration: 2000\n\t\t});\n\t\tawait loading.present();\n\t}\n\n\tasync presentLoadingDismiss(){\n\t\tawait this.loadingController.dismiss();\n\t}\n}\n"]}